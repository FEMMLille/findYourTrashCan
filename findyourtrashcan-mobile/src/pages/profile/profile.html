<ion-header>

    <ion-navbar>
        <ion-title>{{ 'PROFILE_TITLE' | translate }}</ion-title>
    </ion-navbar>

</ion-header>


<ion-content>
    <div padding>
        <div padding class="avatar-container">
            <!-- TODO link to account avatar -->
            <img src="{{user.account.photoUrl}}" class="avatar">
        </div>
        <ion-item>
            <ion-label floating>{{'FIRST_NAME' | translate}}</ion-label>
            <ion-input required type="text" [(ngModel)]="user.account.firstName" name="firstname"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>{{'LAST_NAME' | translate}}</ion-label>
            <ion-input required type="text" [(ngModel)]="user.account.lastName" name="lastname"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label floating>{{'BIRTH_DATE' | translate}}</ion-label>
            <ion-datetime required pickerFormat="DD/MM/YYYY" displayFormat="DD/MM/YYYY" [(ngModel)]="user.account.birthDate" name="birthDate"
                placeholder="{{ 'BIRTH_DATE' | translate }}" cancelText="{{ 'CANCEL_BUTTON' | translate }}" doneText="{{ 'DONE_BUTTON' | translate }}"></ion-datetime>
        </ion-item>
        <ion-item>
            <ion-label floating color="disabled">Email</ion-label>
            <ion-input disabled type="email" [(ngModel)]="user.email" name="email"></ion-input>
        </ion-item>

        <div class="rank-title" padding>
            <h3 class="color-primary">{{ 'RANK' | translate }} : {{ user.account.rankType.label }}</h3>
        </div>

        <progress-bar [progress]="user.account.rank.totalPoints" [total]="user.account.rankType.necessaryPoints"></progress-bar>

        <button ion-button block (click)="save() ">{{ 'SAVE' | translate }}</button>
        <button ion-button clear block (click)="cancel() " class="login ">{{ 'CANCEL_BUTTON' | translate }}</button>
        <button ion-button clear color="danger" type="button" (click)="logout()" block>{{ 'LOGOUT' | translate }}</button>
    </div>
</ion-content>